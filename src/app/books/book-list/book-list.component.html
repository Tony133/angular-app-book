<div class="container">
  @if (message()) {
  <div class="alert alert-danger alert-dismissible fade show" role="alert">
    Book successfully deleted!
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
  </div>
  }

  <h2>List Books</h2>
  <hr>

  @if (books().length > 0) {
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>ID</th>
        <th>Book Title</th>
        <th>Book Price</th>
        <th>Book Author</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      @for (book of books(); track book.id) {
      <tr>
        <td>{{ book.id }}</td>
        <td>{{ book.title }}</td>
        <td>{{ book.price }}</td>
        <td>{{ book.author }}</td>
        <td>
          <a [routerLink]="['/book/edit', book.id]" class="btn btn-primary">Edit</a>
          <a (click)="deleteBook(+book.id)" class="btn btn-danger" style="cursor: pointer;">Delete</a>
        </td>
      </tr>
      } @empty {
      <tr>
        <td colspan="5" class="text-center">No books available</td>
      </tr>
      }
    </tbody>
  </table>
  } @else {
  <div class="alert alert-info">
    Loading books...
  </div>
  }
</div>